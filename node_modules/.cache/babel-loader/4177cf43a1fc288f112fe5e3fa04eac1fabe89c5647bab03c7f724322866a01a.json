{"ast":null,"code":"import _slicedToArray from\"/Users/alexander/Desktop/translation_memory/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{translationMemoryContext}from\"../TranslationMemory\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InGame=function InGame(){var _remainingPhrases$cur,_remainingPhrases$cur2,_remainingPhrases$cur3;var translationMemoryStore=useContext(translationMemoryContext);var setCurrentPage=translationMemoryStore===null||translationMemoryStore===void 0?void 0:translationMemoryStore.setCurrentPage;var phrases=translationMemoryStore===null||translationMemoryStore===void 0?void 0:translationMemoryStore.phrases;var setStartTime=translationMemoryStore===null||translationMemoryStore===void 0?void 0:translationMemoryStore.setStartTime;var incorrectCount=translationMemoryStore===null||translationMemoryStore===void 0?void 0:translationMemoryStore.incorrectCount;var setIncorrectCount=translationMemoryStore===null||translationMemoryStore===void 0?void 0:translationMemoryStore.setIncorrectCount;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),reveal=_React$useState2[0],setReveal=_React$useState2[1];var _React$useState3=React.useState(JSON.parse(JSON.stringify(phrases))),_React$useState4=_slicedToArray(_React$useState3,2),remainingPhrases=_React$useState4[0],setRemainingPhrases=_React$useState4[1];// deep copy\nvar _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),currentIndex=_React$useState6[0],setCurrentIndex=_React$useState6[1];useEffect(function(){setStartTime?setStartTime(new Date()):console.error('Unable to set start time');},[]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),translatedInput=_useState2[0],setTranslatedInput=_useState2[1];var handleReveal=function handleReveal(event){console.log('Revealing translation');setReveal(!reveal);};var handleIncorrect=function handleIncorrect(event){console.log('Incorrect translation');setIncorrectCount(incorrectCount+1);// Load the next phrase\nnextPhrase();};var handleCorrect=function handleCorrect(event){console.log('Correct translation');// If the user gets it correct, then delete that phrase from RemainingPhrases\nvar tempPhrases=remainingPhrases;tempPhrases.splice(currentIndex,1);setRemainingPhrases(tempPhrases);// Load the next phrase\nnextPhrase();};var nextPhrase=function nextPhrase(){// clear form\nsetTranslatedInput('');// check if there are any more phrases\nif((remainingPhrases===null||remainingPhrases===void 0?void 0:remainingPhrases.length)===0){setCurrentPage?setCurrentPage('end_game'):console.error('There are no more phrases left');}// Randomly select a new index for the phrase array\nvar index=Math.floor(Math.random()*remainingPhrases.length);console.log('index: '+index);setCurrentIndex(index);setReveal(false);};var handleChange=function handleChange(event){setTranslatedInput(event.target.value.toString());};useEffect(function(){nextPhrase();});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"in_game\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"instructions\",style:{fontSize:20,color:\"blue\",textDecorationLine:\"underline\",fontStyle:\"italic\"},children:\"Write the translation with correct spelling:\"}),/*#__PURE__*/_jsx(\"p\",{id:\"english_text\",style:{fontSize:40,color:\"black\",fontWeight:\"bold\"},children:(_remainingPhrases$cur=remainingPhrases[currentIndex])===null||_remainingPhrases$cur===void 0?void 0:_remainingPhrases$cur.english_text}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Translated Input:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"translated_text_input\",onChange:handleChange,value:translatedInput})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"reveal\",onClick:handleReveal,style:{background:\"blue\",fontWeight:\"bold\"},children:\"Reveal Translation\"}),reveal&&/*#__PURE__*/_jsxs(\"div\",{id:\"revealable_component\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"translated_text\",style:{fontSize:45,color:\"black\",fontWeight:\"bold\"},children:(_remainingPhrases$cur2=remainingPhrases[currentIndex])===null||_remainingPhrases$cur2===void 0?void 0:_remainingPhrases$cur2.translation}),/*#__PURE__*/_jsxs(\"p\",{id:\"input_results\",children:[\"Your input was: \",translatedInput==((_remainingPhrases$cur3=remainingPhrases[currentIndex])===null||_remainingPhrases$cur3===void 0?void 0:_remainingPhrases$cur3.translation)?'Correct':'Incorrect']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"incorrect_button\",onClick:handleIncorrect,style:{background:\"red\"},children:\"Incorrect\"}),/*#__PURE__*/_jsx(\"button\",{id:\"correct_button\",onClick:handleCorrect,style:{background:\"green\"},children:\"Correct\"})]})]})]})});};export default InGame;","map":{"version":3,"names":["React","useContext","useEffect","useState","translationMemoryContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InGame","_remainingPhrases$cur","_remainingPhrases$cur2","_remainingPhrases$cur3","translationMemoryStore","setCurrentPage","phrases","setStartTime","incorrectCount","setIncorrectCount","_React$useState","_React$useState2","_slicedToArray","reveal","setReveal","_React$useState3","JSON","parse","stringify","_React$useState4","remainingPhrases","setRemainingPhrases","_React$useState5","_React$useState6","currentIndex","setCurrentIndex","Date","console","error","_useState","_useState2","translatedInput","setTranslatedInput","handleReveal","event","log","handleIncorrect","nextPhrase","handleCorrect","tempPhrases","splice","length","index","Math","floor","random","handleChange","target","value","toString","children","id","style","fontSize","color","textDecorationLine","fontStyle","fontWeight","english_text","type","name","onChange","onClick","background","translation"],"sources":["/Users/alexander/Desktop/translation_memory/src/Elements/TranslationMemory/InGame/InGame.tsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport Phrase from \"../../../Models/Phrase\";\nimport { translationMemoryContext } from \"../TranslationMemory\";\n\nconst InGame = () => {\n\n  const translationMemoryStore = useContext(translationMemoryContext);\n  const setCurrentPage = translationMemoryStore?.setCurrentPage;\n  const phrases = translationMemoryStore?.phrases;\n  const setStartTime = translationMemoryStore?.setStartTime;\n  const incorrectCount = translationMemoryStore?.incorrectCount as number;\n  const setIncorrectCount = translationMemoryStore?.setIncorrectCount as Function;\n\n  const [reveal, setReveal] = React.useState<Boolean>(false);\n  const [remainingPhrases, setRemainingPhrases] = React.useState<Phrase[]>(JSON.parse(JSON.stringify(phrases as Phrase[]))); // deep copy\n  const [currentIndex, setCurrentIndex] = React.useState<number>(0);\n\n  useEffect(() => {\n    setStartTime ? setStartTime(new Date()) : console.error('Unable to set start time');\n  }, []);\n\n  const [translatedInput, setTranslatedInput] = useState<string>('');\n\n  const handleReveal = (event: any) => {\n    console.log('Revealing translation');\n    setReveal(!reveal);\n  }\n\n  const handleIncorrect = (event: any) => {\n    console.log('Incorrect translation');\n    setIncorrectCount(incorrectCount + 1);\n    // Load the next phrase\n    nextPhrase();\n  }\n\n  const handleCorrect = (event: any) => {\n    console.log('Correct translation');\n    // If the user gets it correct, then delete that phrase from RemainingPhrases\n    let tempPhrases: Phrase[] = remainingPhrases;\n    tempPhrases.splice(currentIndex, 1);\n    setRemainingPhrases(tempPhrases);\n    // Load the next phrase\n    nextPhrase();\n  }\n\n  const nextPhrase = () => {\n    // clear form\n    setTranslatedInput('');\n    // check if there are any more phrases\n    if (remainingPhrases?.length === 0) {\n      setCurrentPage ? setCurrentPage('end_game') : console.error('There are no more phrases left');\n    }\n    // Randomly select a new index for the phrase array\n    const index = Math.floor(Math.random() * remainingPhrases.length);\n    console.log('index: ' + index)\n    setCurrentIndex(index);\n    setReveal(false);\n  }\n\n  const handleChange = (event: any) => {\n    setTranslatedInput(event.target.value.toString())\n  }\n\n  useEffect(() => {\n    nextPhrase();\n  });\n\n\n\n  return (\n    <>\n      <div id=\"in_game\">\n        <p id=\"instructions\" style={{ fontSize: 20, color: \"blue\", textDecorationLine: \"underline\", fontStyle: \"italic\"}}>\n          Write the translation with correct spelling:\n        </p>\n        <p id=\"english_text\" style={{ fontSize: 40, color: \"black\", fontWeight: \"bold\"}}>\n          {remainingPhrases[currentIndex]?.english_text}\n        </p>\n        \n        <form>\n          <label>\n            Translated Input:\n            <input type=\"text\" name=\"translated_text_input\" onChange={handleChange} value={translatedInput}/>\n          </label><br/>\n          {/* <input type=\"submit\" /> */}\n        </form>\n        <br/>\n        <button id=\"reveal\" onClick={handleReveal} style={{ background: \"blue\", fontWeight: \"bold\"}}>\n          Reveal Translation\n        </button>\n        {reveal &&\n          <div id=\"revealable_component\">\n            <p id=\"translated_text\" style={{ fontSize: 45, color: \"black\", fontWeight: \"bold\"}}>\n              {remainingPhrases[currentIndex]?.translation}\n            </p>\n            <p id=\"input_results\">\n              Your input was: {translatedInput==remainingPhrases[currentIndex]?.translation? 'Correct': 'Incorrect'}\n            </p>\n            <div>\n              <button id=\"incorrect_button\" onClick={handleIncorrect} style={{ background: \"red\"}}>\n                Incorrect\n              </button>\n              <button id=\"correct_button\" onClick={handleCorrect} style={{ background: \"green\"}}>\n                Correct\n              </button>\n            </div>\n          </div>\n        }\n      </div>\n    </>\n  )\n}\n\nexport default InGame"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}