{"ast":null,"code":"import Papa from\"papaparse\";import React,{useContext}from\"react\";import{translationMemoryContext}from\"../TranslationMemory\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DocumentUploader=function DocumentUploader(){var translationMemoryStore=useContext(translationMemoryContext);var setPhrases=translationMemoryStore===null||translationMemoryStore===void 0?void 0:translationMemoryStore.setPhrases;var changeHandler=function changeHandler(event){console.log(event.target.files[0]);parseCsv(event);};var parseCsv=function parseCsv(event){var phrases=[];// Passing file data (event.target.files[0]) to parse using Papa.parse\nPapa.parse(event.target.files[0],{header:true,skipEmptyLines:true,complete:function complete(results){console.log(results.data);phrases=results.data;setPhrases?setPhrases(phrases):console.error('Unable to initialize uploaded phrases');}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",accept:\".csv\",onChange:changeHandler,style:{display:\"block\",margin:\"10px auto\"}})})});};export default DocumentUploader;","map":{"version":3,"names":["Papa","React","useContext","translationMemoryContext","jsx","_jsx","Fragment","_Fragment","DocumentUploader","translationMemoryStore","setPhrases","changeHandler","event","console","log","target","files","parseCsv","phrases","parse","header","skipEmptyLines","complete","results","data","error","children","type","name","accept","onChange","style","display","margin"],"sources":["/Users/alexander/Desktop/translation_memory/src/Elements/TranslationMemory/NewGame/DocumentUploader.tsx"],"sourcesContent":["import Papa from \"papaparse\";\nimport React, { useContext } from \"react\";\nimport Phrase from \"../../../Models/Phrase\";\nimport { translationMemoryContext } from \"../TranslationMemory\";\n\n\nconst DocumentUploader = () => {\n\n  const translationMemoryStore = useContext(translationMemoryContext);\n  const setPhrases = translationMemoryStore?.setPhrases;\n\n  const changeHandler = (event: any) => {\n    console.log(event.target.files[0]);\n    parseCsv(event);\n  };\n\n  const parseCsv = (event: any) => {\n    let phrases: Phrase[] = [];\n    // Passing file data (event.target.files[0]) to parse using Papa.parse\n    Papa.parse(event.target.files[0], {\n      header: true,\n      skipEmptyLines: true,\n      complete: function (results: { data: any; }) {\n        console.log(results.data);\n        phrases = results.data;\n        setPhrases? setPhrases(phrases): console.error('Unable to initialize uploaded phrases');\n      },\n    });\n  }\n\n\n  return (\n    <>\n    <div>\n    <input\n          type=\"file\"\n          name=\"file\"\n          accept=\".csv\"\n          onChange={changeHandler}\n          style={{ display: \"block\", margin: \"10px auto\" }}\n        />\n    </div>\n    </>\n  )\n}\n\nexport default DocumentUploader;"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,WAAW,CAC5B,MAAO,CAAAC,KAAK,EAAIC,UAAU,KAAQ,OAAO,CAEzC,OAASC,wBAAwB,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGhE,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAE7B,GAAM,CAAAC,sBAAsB,CAAGP,UAAU,CAACC,wBAAwB,CAAC,CACnE,GAAM,CAAAO,UAAU,CAAGD,sBAAsB,SAAtBA,sBAAsB,iBAAtBA,sBAAsB,CAAEC,UAAU,CAErD,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,KAAU,CAAK,CACpCC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAClCC,QAAQ,CAACL,KAAK,CAAC,CACjB,CAAC,CAED,GAAM,CAAAK,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIL,KAAU,CAAK,CAC/B,GAAI,CAAAM,OAAiB,CAAG,EAAE,CAC1B;AACAlB,IAAI,CAACmB,KAAK,CAACP,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CAChCI,MAAM,CAAE,IAAI,CACZC,cAAc,CAAE,IAAI,CACpBC,QAAQ,CAAE,SAAAA,SAAUC,OAAuB,CAAE,CAC3CV,OAAO,CAACC,GAAG,CAACS,OAAO,CAACC,IAAI,CAAC,CACzBN,OAAO,CAAGK,OAAO,CAACC,IAAI,CACtBd,UAAU,CAAEA,UAAU,CAACQ,OAAO,CAAC,CAAEL,OAAO,CAACY,KAAK,CAAC,uCAAuC,CAAC,CACzF,CACF,CAAC,CAAC,CACJ,CAAC,CAGD,mBACEpB,IAAA,CAAAE,SAAA,EAAAmB,QAAA,cACArB,IAAA,QAAAqB,QAAA,cACArB,IAAA,UACMsB,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,MAAM,CACbC,QAAQ,CAAEnB,aAAc,CACxBoB,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,MAAM,CAAE,WAAY,CAAE,EACjD,EACA,EACH,CAEP,CAAC,CAED,cAAe,CAAAzB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}